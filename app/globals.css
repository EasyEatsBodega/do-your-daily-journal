@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #f5ebe0;
  --foreground: #2c2416;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #1a1510;
    --foreground: #e8dcc8;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--font-merriweather), Georgia, serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Mobile-specific utilities */
  .touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Prevent text selection on touch devices */
  .no-select {
    -webkit-user-select: none;
    user-select: none;
  }
}

@layer components {
  /* Journal paper effect */
  .journal-page {
    @apply bg-paper dark:bg-paper-dark shadow-2xl;
    background-image:
      linear-gradient(transparent 0%, transparent calc(100% - 1px), #d4a574 100%),
      repeating-linear-gradient(
        transparent,
        transparent 31px,
        rgba(212, 165, 116, 0.15) 31px,
        rgba(212, 165, 116, 0.15) 32px
      );
    box-shadow:
      0 1px 3px rgba(0,0,0,0.12),
      0 10px 30px rgba(0,0,0,0.08),
      inset 0 0 100px rgba(255,255,255,0.05);
  }

  .dark .journal-page {
    background-image:
      linear-gradient(transparent 0%, transparent calc(100% - 1px), #5a4a3a 100%),
      repeating-linear-gradient(
        transparent,
        transparent 31px,
        rgba(90, 74, 58, 0.2) 31px,
        rgba(90, 74, 58, 0.2) 32px
      );
    box-shadow:
      0 1px 3px rgba(0,0,0,0.3),
      0 10px 30px rgba(0,0,0,0.3),
      inset 0 0 100px rgba(0,0,0,0.1);
  }

  /* Journal input styling */
  .journal-input {
    @apply bg-transparent border-none outline-none w-full resize-none;
    @apply text-ink dark:text-sepia-warm;
    @apply font-serif text-lg leading-8;
    line-height: 32px; /* Match the ruled lines */
    padding-top: 0;
    padding-bottom: 0;
  }

  .journal-input::placeholder {
    @apply text-ink-light/40 dark:text-sepia-warm/30 italic;
  }

  .journal-input:focus {
    @apply outline-none ring-0;
  }

  /* Handwriting style for labels */
  .journal-prompt {
    @apply font-handwriting text-3xl text-ink dark:text-sepia-warm font-semibold;
    text-decoration: underline;
    text-underline-offset: 4px;
  }

  /* Date header styling */
  .journal-date {
    @apply font-handwriting text-4xl text-ink dark:text-sepia-warm;
  }
}

